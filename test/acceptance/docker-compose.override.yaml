version: '3.8'
services:
  ffc-pay-batch-processor-acceptance-tests:
    build:
      target: development
    image: ffc-pay-batch-processor-acceptance-tests
    container_name: ffc-pay-batch-processor-acceptance-tests
    ports:
      - "9333:9229"
    volumes:
      - ./features:/home/node/features
      - ./step_definitions:/home/node/step_definitions
      - ./package.json:/home/node/package.json
      - ./support:/home/node/support
      - ./reports:/home/node/reports
      - ./cucumber.js:/home/node/cucumber.js
    environment:
      AZURE_STORAGE_CONNECTION_STRING: DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://ffc-pay-batch-azurite:10000/devstoreaccount1;
      DISABLE_SEQUENCE_VALIDATION: ${DISABLE_SEQUENCE_VALIDATION:-true}
