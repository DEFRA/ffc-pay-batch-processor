version: '3.8'

services:
  ffc-pay-batch-processor-acceptance-tests:
    build:
      context: .
    image: ffc-pay-batch-processor-acceptance-tests
    container_name: ffc-pay-batch-processor-acceptance-tests
    environment:
      AZURE_STORAGE_ACCOUNT_NAME: ${AZURE_STORAGE_ACCOUNT_NAME:-devstoreaccount1}
      MESSAGE_QUEUE_HOST: ${MESSAGE_QUEUE_HOST}
      MESSAGE_QUEUE_PASSWORD: ${MESSAGE_QUEUE_PASSWORD}
      MESSAGE_QUEUE_USER: ${MESSAGE_QUEUE_USER}
      PAYMENT_TOPIC_ADDRESS: ${PAYMENT_TOPIC_ADDRESS:-ffc-pay-request}${MESSAGE_QUEUE_SUFFIX}
      PAYMENT_TOPIC_SUBSCRIPTION_ADDRESS: ${PAYMENT_TOPIC_SUBSCRIPTION_ADDRESS:-ffc-pay-enrichment}${MESSAGE_QUEUE_SUFFIX}
      AZURE_STORAGE_USE_CONNECTION_STRING: "true"
      AZURE_STORAGE_CONTAINERS: "batch"
      AZURE_STORAGE_INBOUNDFOLDER: "inbound"
